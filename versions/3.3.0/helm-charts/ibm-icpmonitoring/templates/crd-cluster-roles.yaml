{{- if .Values.crdCreation -}}
# Licensed Materials - Property of IBM
# IBM Confidential
# OCO Source Materials
# (C) Copyright IBM Corporation 2016, 2019 All Rights Reserved
# The source code for this program is not published or otherwise divested of its trade secrets, irrespective of what has been deposited with the U.S. Copyright Office.

apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    kubernetes.io/bootstrapping: rbac-defaults
    rbac.icp.com/aggregate-to-icp-view: "true"
  name: monitoring-view-aggregate
rules:
  -
    apiGroups:
      - "monitoringcontroller.cloud.ibm.com"
    resources:
      - alertrules
    verbs:
      - get
      - list
      - watch
  -
    apiGroups:
      - "monitoringcontroller.cloud.ibm.com"
    resources:
      - monitoringdashboards
    verbs:
      - get
      - list
      - watch

---

apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    kubernetes.io/bootstrapping: rbac-defaults
    rbac.icp.com/aggregate-to-icp-admin: "true"
  name: monitoring-admin-aggregate
rules:
  -
    apiGroups:
      - "monitoringcontroller.cloud.ibm.com"
    resources:
      - alertrules
    verbs:
      - create
      - delete
      - deletecollection
      - get
      - list
      - patch
      - update
      - watch
  -
    apiGroups:
      - "monitoringcontroller.cloud.ibm.com"
    resources:
      - monitoringdashboards
    verbs:
      - create
      - delete
      - deletecollection
      - get
      - list
      - patch
      - update
      - watch

---

apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    kubernetes.io/bootstrapping: rbac-defaults
    rbac.icp.com/aggregate-to-icp-edit: "true"
  name: monitoring-edit-aggregate
rules:
  -
    apiGroups:
      - "monitoringcontroller.cloud.ibm.com"
    resources:
      - alertrules
    verbs:
      - get
      - list
      - patch
      - update
      - watch
  -
    apiGroups:
      - "monitoringcontroller.cloud.ibm.com"
    resources:
      - monitoringdashboards
    verbs:
      - get
      - list
      - patch
      - update
      - watch

---

apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  labels:
    kubernetes.io/bootstrapping: rbac-defaults
    rbac.icp.com/aggregate-to-icp-operate: "true"
  name: monitoring-operate-aggregate
rules:
  -
    apiGroups:
      - "monitoringcontroller.cloud.ibm.com"
    resources:
      - alertrules
    verbs:
      - create
      - get
      - list
      - patch
      - update
      - watch
  -
    apiGroups:
      - "monitoringcontroller.cloud.ibm.com"
    resources:
      - monitoringdashboards
    verbs:
      - create
      - get
      - list
      - patch
      - update
      - watch
{{- end -}}